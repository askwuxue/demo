<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>随机点名</title>
	<style>
		* {
			margin: 0;
			padding: 0;
		}
		input {
			float: right;
			margin: 20px;
			right: 100px;
		}
		div {
			width: 500px;
			height:260px;
			border:1px solid purple;
			margin: 50px auto;
			background-color: green;
		}
		span {
			float: left;
			width: 80px;
			height: 40px;
			margin: 10px;
			text-align: center;
			line-height: 40px;
			background-color: purple;
		}
	</style>
</head>
<body>
	<input type="button" value="开始" id="btn">
	<input type="button" value="暂停" id=btn2>
	<div>
		<span>黄道东</span>
		<span>李楠</span>
		<span>国安琪</span>
		<span>崔欣</span>
		<span>胡森森</span><br />
		<span>吴学</span>
		<span>卢伟文</span>
		<span>柏球</span>
		<span>脏庭凯</span>
		<span>王济彤</span><br />
		<span>王腾毅</span>
		<span>王阳</span>
		<span>王刘松</span>
		<span>王康虹</span>
		<span>柳安于</span><br />
		<span>卢明红</span>
		<span>周玉峰</span>
		<span>丁盛</span>
		<span>高一峰</span>
		<span>张少杰</span><br />
	</div>
	
	<script>
	window.onload = function(){
	//获取开始按钮
	var btn = document.getElementById("btn");
	//获取暂停按钮
	var btn2 = document.getElementById("btn2");
	//获取所有的span标签
	var spanObjs = document.getElementsByTagName("span");
	//给所有的span标签添加自定义属性index
	for(var i = 0;i < spanObjs.length;i++){
		spanObjs[i].setAttribute("index",i);
	}
	
		//存放定时器的id
		var timeId;
		//给开始按钮注册点击事件
		btn.onclick = function(){
			//判断定时器是否已存在
			if(typeof(timeId) !== "undefined"){
				clearInterval(timeId)
			}
			//不断的产生随机数
			timeId = setInterval(function(){
			var number = parseInt(Math.random()*20);
			//console.log(number);
			//获取所有的span标签的index属性
			for(var j = 0;j < spanObjs.length;j++){
				var index = spanObjs[j].getAttribute("index");
				//先移除所有样式
				spanObjs[j].style.backgroundColor = "";
				//如果index属性和随机数一致，为这个span标签设置样式
				if(number == index){
					console.log("access");
					spanObjs[j].style.backgroundColor = "pink";			
				}
			}
		},100)
		};
		
		//给暂停按钮注册点击事件
		btn2.onclick = function(){
			console.log(timeId);
			//清除定时器
			clearInterval(timeId);
		};	
}
</script>
</body>
</html>